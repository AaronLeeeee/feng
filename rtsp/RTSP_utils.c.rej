***************
*** 130,138 ****
   */
  RTSP_Error validate_url(char *url, ConnectionInfo * cinfo)
  {
-     char *decoded_url = g_malloc(strlen(url));
      
-     if ( Url_decode( decoded_url, url, strlen(url)-1 ) < 0 )
        return RTSP_BadRequest;
  
      Url_init(&cinfo->url, decoded_url);
--- 130,138 ----
   */
  RTSP_Error validate_url(char *url, ConnectionInfo * cinfo)
  {
+     char *decoded_url = g_malloc(strlen(url)+1);
      
+     if ( Url_decode( decoded_url, url, strlen(url) ) < 0 )
        return RTSP_BadRequest;
  
      Url_init(&cinfo->url, decoded_url);
